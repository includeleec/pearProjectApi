(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d943a5a","chunk-5a26c84a"],{"27f0":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"userLayout"},[n("div",{staticClass:"container"},[n("div",{staticClass:"top"},[n("div",{staticClass:"header"},[n("a-badge",[n("a",{attrs:{href:"/"}},[n("img",{staticClass:"logo",attrs:{src:e("eb21"),alt:"logo"}}),n("span",{staticClass:"title"},[t._v("广西电网智能电网二次规划项目管理")])])])],1)]),n("router-view"),t._t("default"),t._m(0)],2)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer"},[e("div",{staticClass:"copyright"},[t._v("\n                Copyright © 2019 Pear Project\n            ")])])}],i={name:"UserLayout",props:{desc:{type:[String],default:function(){return"欢迎使用Pear Project项目管理系统"}}}},l=i,o=(e("f421"),e("2877")),r=Object(o["a"])(l,n,s,!1,null,null,null);a["default"]=r.exports},9794:function(t,a,e){},eb21:function(t,a,e){t.exports=e.p+"img/logo-csg-h.966b49ce.png"},f421:function(t,a,e){"use strict";var n=e("9794"),s=e.n(n);s.a},fef1:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"install",staticStyle:{height:"100%"}},[e("user-layout",{attrs:{desc:"正在安装Pear Project项目管理系统"}},[e("div",{staticClass:"main"},[e("a-alert",{attrs:{message:"请确认已正确修改服务端目录下的.env配置文件"}}),e("a-form",{staticClass:"user-layout-login",attrs:{layout:"horizontal",form:t.form},on:{submit:function(a){return a.preventDefault(),t.handleSubmit(a)}}},[e("a-form-item",{attrs:{label:"清除数据",labelCol:{span:6},wrapperCol:{span:18}}},[e("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["initData",{initialValue:!1,valuePropName:"checked"}],expression:"[\n                            'initData',\n                            {initialValue: false, valuePropName: 'checked'}\n                        ]"}]},[t._v("\n                        勾选后将清除预置数据\n                    ")])],1),e("a-form-item",{staticStyle:{"margin-top":"24px"},attrs:{labelCol:{span:6},wrapperCol:{span:18,offset:3}}},[e("a-button",{staticClass:"middle-btn",attrs:{size:"large",type:"primary",htmlType:"submit",loading:t.loading,disabled:t.loading,block:""}},[t.loading?e("span",[t._v("正在安装，请稍后...")]):e("span",[t._v("立即安装")])])],1)],1)],1)])],1)},s=[],i=e("82f8"),l=e("2f14"),o=e("27f0"),r={components:{UserLayout:o["default"]},data:function(){return{loading:!1,form:this.$form.createForm(this),installInfo:{mysqlHost:"",mysqlDatabase:"",mysqlUsername:"",mysqlPassword:"",mysqlPrefix:"",mysqlHostport:"",initData:!1}}},created:function(){this.checkInstall()},mounted:function(){var t=this;setTimeout((function(){t.form=t.$form.createForm(t)}),500)},methods:{handleSubmit:function(){var t=this;this.form.validateFields((function(a,e){a||(t.installInfo=e,t.install())}))},install:function(){var t=this;this.loading=!0,this.installInfo.initData=this.installInfo.initData?1:0,Object(i["c"])(this.installInfo).then((function(a){if(t.loading=!1,!Object(l["a"])(a))return!1;t.$router.push({name:"login"})})).catch((function(){t.loading=!1}))},checkInstall:function(){var t=this;Object(i["a"])().then((function(a){Object(l["a"])(a)&&t.$router.push({name:"login"})}))}}},c=r,u=e("2877"),f=Object(u["a"])(c,n,s,!1,null,null,null);a["default"]=f.exports}}]);